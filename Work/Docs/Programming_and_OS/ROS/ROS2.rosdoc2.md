---
tags: note/ROS
type: note
---
# Background
Command line tool for generating documentation for ROS2 packages.
The goal of this tool is to support main cases:
- zero configuration generation of C++ and Python API documents with a landing page for simple packages
- custom Doxyfile (for C++) and Sphinx conf.py file for more extensively configured documentation
[Overview rosdoc](https://docs.ros.org/en/rolling/How-To-Guides/Documenting-a-ROS-2-Package.html)

# Usage
## Build Command
```shell
rosdoc2 build --package-path <package-path>
```
Documentation is written to `docs_output/<package-name>/index.html` and can be viewed in a browser

## Configuration
3 configuration locations for ROS package docs
### `rosdoc2.yaml`
- General settings, main entrypoint.
- Can be used to control the execution of specific builders (see below)
#### Generating a default `rosdoc2.yaml`
```shell
rosdoc2 default_config --package-path <package-path>
```
- And add `<rosdoc2>rosdoc2.yaml</rosdoc2>` to the export section in your `package.xml`:
### `conf.py`
- Sphinx settings
- If no configuration is present, a default Sphinx project is created and use when building the documentation. 
- A custom Sphinx project is required if you want to include a standalone reStructuredText document page. 
### `Doxyfile`
- Doxygen settings

## Theory of Operation
- Inspect the `package.xml` of the package for any rosdoc2 specific configurations.
    - Note: if none are found, a default configuration which tries to run Sphinx and Doxygen is used.
    - Note: one of the things that the configuration consists of is build stanzas, each represents an instance of a 'builder' and takes the form of `'output subdir': {<settings>}` and are in the 'builders' key.
        - Note: the 'output subdir' is a relative directory in the output directory specified when running the tool.
- Generate the content for the "package header" which will either be in the package index page (if enabled) or included by the user's Sphinx project.
    - Note: this contains standard information about the package, taken from the package.xml and possibly other sources.
- Generate the documentation. For each builder specified (in order defined):
    - Invoke the builder with the associated settings.
        - Note: each builder is given a separate output directory so file collisions do not occur during doc generation.
    - Attempt to move all files generated into a common output directory.
        - Note: if a file or folder already exists when copying, an error occurs. This is done to catch "file collisions" between the builders, which may otherwise happen silently.
- Generate the package index page, if configured to do so.
- Move the resulting files from the common output directory into the output directory specified by the user.
    - Note: this step can overwrite existing files, e.g. files from a previous run of the tool, but will not delete files that are no longer generated by the documentation, so you may want to delete the output directory if you remove or rename parts of the documentation.